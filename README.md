# æ–‡æœ¬åˆå¹¶å·¥å…·

**å¿«é€Ÿå°†æ•´ä¸ªé¡¹ç›®åˆå¹¶æˆå•ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ–¹ä¾¿å‘é€ç»™ AI åŠ©æ‰‹ï¼ˆChatGPTã€Claude ç­‰ï¼‰è¿›è¡Œä»£ç åˆ†æã€é—®é¢˜è¯Šæ–­ã€é‡æ„å»ºè®®ã€‚**

**æ‹–æ‹½æ–‡ä»¶/æ–‡ä»¶å¤¹ â†’ è‡ªåŠ¨åˆå¹¶ä»£ç  â†’ ä¸€é”®å¤åˆ¶ â†’ ç²˜è´´ç»™ AI**

---

## å¿«é€Ÿå¼€å§‹

1. **ä¸‹è½½** `.py` å’Œ `.bat` æ–‡ä»¶åˆ°ä»»æ„æ–‡ä»¶å¤¹
2. **æ‹–æ‹½**é¡¹ç›®æ–‡ä»¶å¤¹åˆ° `mNc.bat` ä¸Š
3. **å®Œæˆ** - å†…å®¹å·²è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œç›´æ¥ç²˜è´´ç»™ ChatGPT/Claude

<img width="930" height="466" alt="ä½¿ç”¨æ¼”ç¤º" src="https://github.com/user-attachments/assets/09883392-7b97-4fb9-8641-5a0b840b435b" />

### å¯é€‰ï¼šå³é”®èœå•å¿«æ·æ–¹å¼

åœ¨èµ„æºç®¡ç†å™¨åœ°å€æ è¿è¡Œ `shell:sendto`ï¼Œå°† `mNc.bat` å¿«æ·æ–¹å¼æ”¾å…¥ï¼Œå³å¯é€šè¿‡"å³é”® â†’ å‘é€åˆ°"è°ƒç”¨ã€‚

---

## ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå·¥å…·ï¼Ÿ

å½“ä½ æƒ³è®© AI åŠ©æ‰‹å¸®ä½ ï¼š
- ğŸ” **åˆ†æä»£ç ç»“æ„**ï¼š"å¸®æˆ‘çœ‹çœ‹è¿™ä¸ªé¡¹ç›®çš„æ¶æ„è®¾è®¡"
- ğŸ› **è¯Šæ–­ Bug**ï¼š"æ‰¾å‡ºè¿™æ®µä»£ç çš„é—®é¢˜"
- â™»ï¸ **é‡æ„å»ºè®®**ï¼š"ä¼˜åŒ–è¿™ä¸ªå‡½æ•°çš„æ€§èƒ½"
- ğŸ“š **ç”Ÿæˆæ–‡æ¡£**ï¼š"ä¸ºè¿™ä¸ªé¡¹ç›®å†™ä¸ª README"
- ğŸ“ **å­¦ä¹ ä»£ç **ï¼š"è§£é‡Šè¿™ä¸ªå¼€æºé¡¹ç›®çš„å·¥ä½œåŸç†"

ä¼ ç»Ÿæ–¹å¼éœ€è¦é€ä¸ªå¤åˆ¶ç²˜è´´æ–‡ä»¶ï¼Œæ•ˆç‡ä½ä¸‹ã€‚æœ¬å·¥å…·**ä¸€é”®å®Œæˆ**ï¼šè‡ªåŠ¨æ”¶é›†ã€æ™ºèƒ½è¿‡æ»¤ã€ç»“æ„åŒ–è¾“å‡ºã€‚

---

## åŠŸèƒ½ç‰¹æ€§

- âœ… **ç™½åå•æ¨¡å¼**ï¼šä»…å¤„ç†ä»£ç å’Œæ–‡æœ¬æ–‡ä»¶ï¼ˆ`.py` `.js` `.java` `.md` ç­‰ï¼‰
- âœ… **æ™ºèƒ½è¿‡æ»¤**ï¼šè‡ªåŠ¨æ’é™¤ `node_modules` `venv` `.git` ç­‰æ„å»ºç›®å½•
- âœ… **æ’é™¤æ¨¡å¼**ï¼šè·³è¿‡ `.min.js` `.bundle.js` ç­‰å‹ç¼©æ–‡ä»¶ï¼ˆä½†ä»æ˜¾ç¤ºåœ¨ç›®å½•æ ‘ä¸­ï¼‰
- âœ… **ç›®å½•æ ‘**ï¼šè‡ªåŠ¨ç”Ÿæˆé¡¹ç›®ç»“æ„å›¾å’Œæ–‡ä»¶ç»Ÿè®¡
- âœ… **å¤šçº¿ç¨‹**ï¼šå¹¶å‘å¤„ç†ï¼Œé€Ÿåº¦å¿«
- âœ… **æ™ºèƒ½ç¼–ç **ï¼šè‡ªåŠ¨å¤„ç† UTF-8 å’Œ GBK ç¼–ç 

---

## ä¾èµ–å®‰è£…

```bash
pip install pyperclip
```

---

## è‡ªå®šä¹‰é…ç½®

åœ¨ Python è„šæœ¬é¡¶éƒ¨ä¿®æ”¹é…ç½®é¡¹ï¼š

### æ ¸å¿ƒé…ç½®

```python
# å…è®¸è¯»å–çš„æ–‡ä»¶ç±»å‹ç™½åå•
FORCE_TEXT_EXTENSIONS = {
    '.py', '.js', '.java', '.md', '.txt', '.json', ...
}

# æ’é™¤çš„æ–‡ä»¶æ¨¡å¼ï¼ˆæ˜¾ç¤ºåœ¨æ ‘ä¸­ä½†ä¸è¯»å–å†…å®¹ï¼‰
EXCLUDED_FILE_PATTERNS = [
    '*.min.js',      # å‹ç¼©çš„ JS æ–‡ä»¶
    '*.min.css',     # å‹ç¼©çš„ CSS æ–‡ä»¶
    '*.bundle.js',   # æ‰“åŒ…æ–‡ä»¶
]

# æ’é™¤çš„ç›®å½•ï¼ˆå®Œå…¨ä¸æ‰«æï¼‰
EXCLUDED_PATHS = [
    'node_modules', 'venv', '.git', '__pycache__', ...
]
```

### å…¶ä»–é…ç½®

```python
MAX_FILE_SIZE_BYTES = 20 * 1024 * 1024  # å•æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆé»˜è®¤ 20MBï¼‰
MAX_PATH_DISPLAY_LEN = 80               # è·¯å¾„æ˜¾ç¤ºé•¿åº¦
```

---

## è¾“å‡ºç¤ºä¾‹

ç”Ÿæˆçš„æ–‡ä»¶åŒ…å«ï¼š
- ğŸ“Š **é¡¹ç›®ç»Ÿè®¡**ï¼šæ–‡ä»¶æ•°é‡ã€ç±»å‹åˆ†å¸ƒã€ç”Ÿæˆæ—¶é—´
- ğŸŒ² **ç›®å½•æ ‘**ï¼šå®Œæ•´çš„é¡¹ç›®ç»“æ„å›¾
- ğŸ“„ **æ–‡ä»¶å†…å®¹**ï¼šæ‰€æœ‰ä»£ç æ–‡ä»¶ï¼Œå¸¦è·¯å¾„æ ‡è®°å’Œä¿®æ”¹æ—¶é—´

ç¤ºä¾‹è¾“å‡ºï¼š
```
================================================================================
PROJECT ANALYSIS SUMMARY
================================================================================

Base Path: C:\Projects\MyApp
Total Files Processed: 45
Total Files in Structure: 67
Generated: 2026-01-04 15:30:22

File Type Distribution (Processed):
----------------------------------------
  .js                  : 20 files
  .py                  : 15 files
  .md                  :  5 files
  ...

================================================================================
DIRECTORY STRUCTURE
================================================================================

MyApp
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ utils.js
â”‚   â””â”€â”€ app.min.js
â”œâ”€â”€ README.md
â””â”€â”€ package.json

================================================================================
FILE CONTENTS
================================================================================

// ============================================================
// FILE: C:\Projects\MyApp\src\main.js
// MODIFIED: 2026-01-04 14:25:10
// ============================================================

... æ–‡ä»¶å†…å®¹ ...
```

---

## å·¥ä½œåŸç†

1. **æ–‡ä»¶å‘ç°**ï¼šé€’å½’æ‰«ææ‹–å…¥çš„æ–‡ä»¶/æ–‡ä»¶å¤¹
2. **æ™ºèƒ½è¿‡æ»¤**ï¼š
   - è·³è¿‡æ’é™¤ç›®å½•ï¼ˆå¦‚ `node_modules`ï¼‰
   - è·³è¿‡æ’é™¤æ¨¡å¼æ–‡ä»¶ï¼ˆå¦‚ `.min.js`ï¼‰- ä»…å‡ºç°åœ¨æ ‘ä¸­
   - è·³è¿‡éç™½åå•æ–‡ä»¶ï¼ˆå¦‚ `.jpg` `.exe`ï¼‰
   - è·³è¿‡è¶…å¤§æ–‡ä»¶ï¼ˆé»˜è®¤ >20MBï¼‰
3. **å¹¶å‘å¤„ç†**ï¼šå¤šçº¿ç¨‹è¯»å–å’Œè§£ç æ–‡ä»¶
4. **æ™ºèƒ½è¾“å‡º**ï¼š
   - ä»£ç æ–‡ä»¶ä¼˜å…ˆï¼Œæ–‡æ¡£æ–‡ä»¶åœ¨å
   - ä½¿ç”¨è¯­è¨€ç‰¹å®šçš„æ³¨é‡Šç¬¦å·æ ‡è®°æ–‡ä»¶è·¯å¾„
5. **è‡ªåŠ¨å¤åˆ¶**ï¼šå†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ + ç”Ÿæˆæ¡Œé¢æ–‡ä»¶ï¼ˆæ—¶é—´æˆ³å‘½åï¼‰

---

## ä½¿ç”¨æŠ€å·§

### å‘é€ç»™ AI æ—¶çš„æç¤ºè¯ç¤ºä¾‹

```
æˆ‘æœ‰ä¸€ä¸ª [é¡¹ç›®ç±»å‹] é¡¹ç›®ï¼Œä»£ç å¦‚ä¸‹ã€‚è¯·å¸®æˆ‘ï¼š
1. åˆ†ææ•´ä½“æ¶æ„å’Œè®¾è®¡æ¨¡å¼
2. æ‰¾å‡ºæ½œåœ¨çš„ bug å’Œæ€§èƒ½é—®é¢˜
3. æä¾›ä¼˜åŒ–å»ºè®®

[ç²˜è´´åˆå¹¶åçš„ä»£ç ]
```

### é’ˆå¯¹ç‰¹å®šé—®é¢˜

```
ä¸‹é¢æ˜¯æˆ‘çš„é¡¹ç›®ä»£ç ï¼Œç›®å‰é‡åˆ° [å…·ä½“é—®é¢˜æè¿°]ã€‚
è¯·å¸®æˆ‘ï¼š
1. å®šä½é—®é¢˜åŸå› 
2. æä¾›è§£å†³æ–¹æ¡ˆ
3. ç»™å‡ºä¿®æ”¹åçš„ä»£ç 

[ç²˜è´´åˆå¹¶åçš„ä»£ç ]
```

---

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæœ‰äº›æ–‡ä»¶æ²¡æœ‰è¢«åŒ…å«ï¼Ÿ**  
A: æ£€æŸ¥ `FORCE_TEXT_EXTENSIONS` ç™½åå•å’Œ `EXCLUDED_FILE_PATTERNS` æ’é™¤æ¨¡å¼ã€‚

**Q: `.min.js` æ–‡ä»¶ä¼šè¢«å¤„ç†å—ï¼Ÿ**  
A: ä¸ä¼šè¯»å–å†…å®¹ï¼Œä½†ä¼šæ˜¾ç¤ºåœ¨ç›®å½•æ ‘ä¸­ï¼Œè®© AI äº†è§£å®Œæ•´çš„é¡¹ç›®ç»“æ„ã€‚

---

## è®¸å¯

MIT License - è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹

---

# Text Merge Tool (English Version)

**Quickly merge your entire project into a single text file for sending to AI assistants (ChatGPT, Claude, etc.) for code analysis, bug diagnosis, and refactoring suggestions.**

**Drag files/folders â†’ Auto-merge code â†’ One-click copy â†’ Paste to AI**

---

## Quick Start

1. **Download** `.py` and `.bat` files to any folder
2. **Drag** your project folder onto `mNc.bat`
3. **Done** - Content is automatically copied to clipboard, paste directly to ChatGPT/Claude

<img width="930" height="466" alt="Demo" src="https://github.com/user-attachments/assets/09883392-7b97-4fb9-8641-5a0b840b435b" />

### Optional: Context Menu Shortcut

Run `shell:sendto` in File Explorer address bar, paste the `mNc.bat` shortcut to enable "Right-click â†’ Send to".

---

## Why This Tool?

When you want AI assistants to help you:
- ğŸ” **Analyze Code Structure**: "Review the architecture design of this project"
- ğŸ› **Diagnose Bugs**: "Find issues in this code"
- â™»ï¸ **Refactoring Advice**: "Optimize this function's performance"
- ğŸ“š **Generate Documentation**: "Write a README for this project"
- ğŸ“ **Learn Code**: "Explain how this open-source project works"

Traditional way requires copying files one by one - inefficient. This tool does it **in one click**: auto-collect, smart-filter, structured output.

---

## Features

- âœ… **Whitelist Mode**: Only process code and text files (`.py` `.js` `.java` `.md` etc.)
- âœ… **Smart Filtering**: Auto-exclude `node_modules` `venv` `.git` build directories
- âœ… **Exclusion Patterns**: Skip `.min.js` `.bundle.js` minified files (still show in tree)
- âœ… **Directory Tree**: Auto-generate project structure and file statistics
- âœ… **Multi-threading**: Concurrent processing for speed
- âœ… **Smart Encoding**: Auto-handle UTF-8 and GBK encodings

---

## Dependencies

```bash
pip install pyperclip
```

---

## Configuration

Edit constants at the top of the Python script:

### Core Settings

```python
# Whitelist of allowed file types
FORCE_TEXT_EXTENSIONS = {
    '.py', '.js', '.java', '.md', '.txt', '.json', ...
}

# Excluded file patterns (show in tree but don't read content)
EXCLUDED_FILE_PATTERNS = [
    '*.min.js',      # Minified JS files
    '*.min.css',     # Minified CSS files
    '*.bundle.js',   # Bundle files
]

# Excluded directories (not scanned at all)
EXCLUDED_PATHS = [
    'node_modules', 'venv', '.git', '__pycache__', ...
]
```

### Other Settings

```python
MAX_FILE_SIZE_BYTES = 20 * 1024 * 1024  # Max file size (default 20MB)
MAX_PATH_DISPLAY_LEN = 80               # Path display length
```

---

## Output Example

Generated file contains:
- ğŸ“Š **Project Stats**: File count, type distribution, generation time
- ğŸŒ² **Directory Tree**: Complete project structure
- ğŸ“„ **File Contents**: All code files with path markers and timestamps

Example output:
```
================================================================================
PROJECT ANALYSIS SUMMARY
================================================================================

Base Path: C:\Projects\MyApp
Total Files Processed: 45
Total Files in Structure: 67
Generated: 2026-01-04 15:30:22

File Type Distribution (Processed):
----------------------------------------
  .js                  : 20 files
  .py                  : 15 files
  .md                  :  5 files
  ...

================================================================================
DIRECTORY STRUCTURE
================================================================================

MyApp
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ utils.js
â”‚   â””â”€â”€ app.min.js
â”œâ”€â”€ README.md
â””â”€â”€ package.json

================================================================================
FILE CONTENTS
================================================================================

// ============================================================
// FILE: C:\Projects\MyApp\src\main.js
// MODIFIED: 2026-01-04 14:25:10
// ============================================================

... file content ...
```

---

## How It Works

1. **File Discovery**: Recursively scan dragged files/folders
2. **Smart Filtering**:
   - Skip excluded directories (e.g., `node_modules`)
   - Skip excluded pattern files (e.g., `.min.js`) - only show in tree
   - Skip non-whitelist files (e.g., `.jpg` `.exe`)
   - Skip oversized files (default >20MB)
3. **Concurrent Processing**: Multi-threaded reading and decoding
4. **Smart Output**:
   - Code files first, documentation files last
   - Use language-specific comment markers for file paths
5. **Auto Copy**: Copy to clipboard + generate desktop file (timestamped)

---

## Usage Tips

### Example Prompts for AI

```
I have a [project type] project with the following code. Please help me:
1. Analyze the overall architecture and design patterns
2. Identify potential bugs and performance issues
3. Provide optimization suggestions

[Paste merged code]
```

### For Specific Issues

```
Below is my project code. I'm encountering [specific issue description].
Please help me:
1. Locate the root cause
2. Provide solutions
3. Show the modified code

[Paste merged code]
```

---

## FAQ

**Q: Why are some files not included?**  
A: Check `FORCE_TEXT_EXTENSIONS` whitelist and `EXCLUDED_FILE_PATTERNS` exclusions.

**Q: Are `.min.js` files processed?**  
A: Content not read, but shown in directory tree so AI understands complete project structure.

---

## License

MIT License - Free to use and modify
